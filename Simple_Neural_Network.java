/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package javatestfiles;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.Map;
import java.util.Map.Entry;
import java.util.Random;

/**
 * PORTED & MODDED FROM
 * 
 * https://medium.com/technology-invention-and-more/how-to-build-a-simple-neural-network-in-9-lines-of-python-code-cc8f23647ca1
 * 
 * The purpose is to put into practice the porting of code into Java Language and
 * to look a little closer into the I/O of Neurological networks in a safe way.
 * Using an existing python test bed as a practice script and adapting 'modding'
 * the code to suite the use case and the program component we are looking at, the 
 * code below is a complete mod from it's predecessor to test and make use of cubic_mapping_4.java
 * a fresh script from volumetric consideration in artificial neurological networks
 * 
 * Check the TODO's
 * 
 * Help from : https://www.javatpoint.com/java-map
 * 			   https://www.baeldung.com/java-multi-dimensional-arraylist
 *             https://www.w3schools.com/java/java_hashmap.asp
 *             https://www.geeksforgeeks.org/java-util-hashmap-in-java-with-examples/
 *              
 * @author devel - R.Clarke, Et al.
 */

//TODO: Look into the linking in synaptics and neuron_qty there is an encapsulation issue there.
//TODO: Secure coding, Annotations, full deployment, all the system out, all the out to files, prelim measurements for the pycode, comparables for the code herin, All the logging and feedback to file and system out, CALL TO CONNECTIONS CHECKS TO i/o, TIMERS  


public class Simple_Neural_Network {

    private static int t_qty = 0;
    private static int neuron_qty = 0;
    private static int vol = 0;
	
	//Set the list of synaptical values to choose from
    private static ArrayList<Object> synaptics = new ArrayList<>();
    private static ArrayList<Object> connections = new ArrayList<>();
    private static Map<Integer, ArrayList<Object>> volume = new HashMap<>();

	//Get a new situation to be looked at
    static ArrayList<Object> situation = Situation.situation();
    static ArrayList<Object> neuron = new ArrayList<>();
    
    //Randomise the selection of a synaptic value from the list
    public static float getSynaptic() {
    	
    	Random synner  = new Random();
    	
    	int synaptic = synner.nextInt(Simple_Neural_Network.getSynaptics().size());
    	
    	float syn = (float) synaptics.get(synaptic);
    	
		return syn;
	}
	
    /**
     * Run the training sets and request a new situation for better optimisations
     * Main method
     * @param args
     * @throws IOException 
     */
    @SuppressWarnings("unchecked")
	public static void main (String []args) throws IOException {
    	Logger_Writer.Logger_Creator();
    	synaptics.addAll(Synaptics.synaptics());
    	
    	Synaptics.setNeuron(neuron_qty);
		
		Logger_Writer.setSynaptics(synaptics);
		Logger_Writer.setSituation(situation);
		Logger_Writer.Logger_Printer(PrinterState.VOID);
		Logger_Writer.Logger_Printer(PrinterState.SYNAP);
		Logger_Writer.Logger_Printer(PrinterState.SITUATION);
		
		/**
		 * ######################################################
		 * for the gui
		 * ######################################################
		 */
		Simple_Neural_Network.setNeuron_qty(32);
		Simple_Neural_Network.setT_qty(10000);
		Simple_Neural_Network.setVol(4);
		Simple_Neural_Network.setNeuron(Neuron.neuron());
		
		
		Simple_Neural_Network.setVolume(Cubic_Mapping_4.mapping(Simple_Neural_Network.getNeuron(), Simple_Neural_Network.getNeuron_qty(), Simple_Neural_Network.getVol()));
		
		System.err.println("Mapped Volume: " + volume.hashCode());
		Logger_Writer.setMapped_volume(volume);
		Logger_Writer.Logger_Printer(PrinterState.MAVOL);
				
		Simple_Neural_Network.setConnections(Connections.connections(Simple_Neural_Network.getVolume()));
		
		System.err.println("Connections: " + connections);
		Logger_Writer.setConnectionss(connections);
		Logger_Writer.Logger_Printer(PrinterState.CONN);

		for (Entry<Integer, ArrayList<Object>> be : volume.entrySet()) {
			System.err.println("Volume Key: " + be.getKey() + " Volume Value: " + be.getValue() + ".\n");
		}

		//Activate the training module in each neuron
		for (Entry<Integer, ArrayList<Object>> activate : volume.entrySet()) {
			//ArrayList<Object> neurological = new ArrayList<>(activate.getKey());
			activate.getValue().get(3);
			activate.getValue().get(2);
			activate.getValue().get(1);
			activate.getValue().get(0);
			
			System.err.println("Neuron: " + activate.getValue() + " - Activated!\n");
		}
		
	
		System.err.println("Activated Neurons.\n");
        Think.think(situation);
        System.err.println("Considering new situation: " + situation + "\n");
        Logger_Writer.Logger_Generic("Considering new situation: " + situation + "\n");
        
        return;
    }
    

    public static int getNeuron_qty() {
		return neuron_qty;
	}

	public static void setNeuron_qty(int neuron_qty) {
		Simple_Neural_Network.neuron_qty = neuron_qty;
	}

	public static int getVol() {
		return vol;
	}

	public static void setVol(int vol) {
		Simple_Neural_Network.vol = vol;
	}

	public static int getT_qty() {
		return t_qty;
	}

	public static void setT_qty(int t_qty) {
		Simple_Neural_Network.t_qty = t_qty;
	}
    
	public static ArrayList<Object> getConnections() {
		return connections;
	}
	
	public static void setConnections(ArrayList<Object> connections) {
		Simple_Neural_Network.connections = connections;
	}
	
	public static ArrayList<Object> getSituation() {
		return situation;
	}
	
	public static void setSituation(ArrayList<Object> situation) {
		Simple_Neural_Network.situation = situation;
	}
	
	public static ArrayList<Object> getNeuron() {
		return neuron;
	}
	
	public static void setNeuron(ArrayList<Object> neuron) {
		Simple_Neural_Network.neuron = neuron;
	}
	
	public static void setSynaptics(ArrayList<Object> synaptics) {
		Simple_Neural_Network.synaptics = synaptics;
	}
	
	public static ArrayList<Object> getSynaptics() {
    	return synaptics;
    }
	
	public static Map<Integer, ArrayList<Object>> getVolume() {
		return volume;
	}

	public static void setVolume(Map<Integer, ArrayList<Object>> volume) {
		Simple_Neural_Network.volume = volume;
	}
}